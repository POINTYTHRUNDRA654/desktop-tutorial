import{c as M,r as o,j as e,C as $,A as U,z as J,X,D as Z,L as Q}from"./index-CEqdjNqX.js";import{L as z}from"./loader-circle-BzIUkhYW.js";import{P as R}from"./plus-o7XHxYp5.js";import{D as ee}from"./database-V2h3OpNj.js";import{F as B}from"./file-text-5HrwYzdb.js";import{S as te}from"./search-CnzEPZHT.js";import{T as se}from"./trash-2-hMnUtzOy.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],re=M("brain",ae);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],oe=M("cloud",le);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"14sh0y"}],["path",{d:"M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706z",key:"1970lx"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]],ie=M("files",ne),ge=()=>{const[g,I]=o.useState([]),[v,W]=o.useState(""),[p,x]=o.useState(!1),[N,l]=o.useState(0),[E,n]=o.useState(!1),[y,i]=o.useState(""),[w,d]=o.useState(""),[T,u]=o.useState(""),[_,j]=o.useState(!1),[G,A]=o.useState(!1),[k,C]=o.useState(""),[L,O]=o.useState(null);o.useEffect(()=>{const t=localStorage.getItem("mossy_knowledge_vault");t&&I(JSON.parse(t))},[]),o.useEffect(()=>{localStorage.setItem("mossy_knowledge_vault",JSON.stringify(g)),window.dispatchEvent(new Event("mossy-knowledge-updated"))},[g]);const h=t=>{t.preventDefault(),t.stopPropagation(),t.type==="dragenter"||t.type==="dragover"?j(!0):t.type==="dragleave"&&j(!1)},F=async t=>{var a,s;try{x(!0),l(10);const c=localStorage.getItem("openai_api_key")||localStorage.getItem("OPENAI_API_KEY")||localStorage.getItem("openaiApiKey");if(!c){x(!1),l(0),O(t),A(!0);return}const m=await t.arrayBuffer();l(30);const D=localStorage.getItem("openai_project_id")||void 0,f=localStorage.getItem("openai_org_id")||void 0,r=await((s=(a=window.electron)==null?void 0:a.api)==null?void 0:s.transcribeVideo(m,c,t.name,D,f));if(l(90),r!=null&&r.success){const b=t.name.replace(/\.[^/.]+$/,"");i(b+" (Video Transcript)"),d(r.text.trim()),l(100),x(!1),l(0),n(!0)}else throw new Error((r==null?void 0:r.error)||"Video transcription failed")}catch(c){x(!1),l(0),console.error("Video transcription error:",c);const m=c.message||"";m.includes("401")||m.includes("Incorrect API key")?alert(`âŒ Video transcription failed

ðŸ”‘ Your OpenAI API key has an issue (401 error)

ðŸ’¡ Solutions:

1. LOCAL (Recommended):
   â€¢ Download whisper.cpp.exe from: https://github.com/ggerganov/whisper.cpp/releases
   â€¢ Download ggml-base.en.bin from: https://huggingface.co/ggerganov/whisper.cpp/resolve/main/ggml-base.en.bin
   â€¢ Place both in: external/whisper/
   â€¢ Try uploading the video again (no API key needed!)

2. CLOUD:
   â€¢ Get a fresh API key from: https://platform.openai.com/api-keys
   â€¢ Make sure billing is set up
   â€¢ Update key in Privacy Settings`):m.includes("whisper")||m.includes("not found")?alert(`âŒ Video transcription failed

ðŸ“ Missing local transcription files

To transcribe videos offline:
1. Download whisper.cpp.exe from: https://github.com/ggerganov/whisper.cpp/releases
2. Download ggml-base.en.bin (~150MB) from: https://huggingface.co/ggerganov/whisper.cpp/resolve/main/ggml-base.en.bin
3. Create folder: external/whisper/
4. Place both files there
5. Try again!

Or add an OpenAI API key in Privacy Settings for cloud transcription.`):alert(`âŒ Transcription failed: ${m}

Please check:
1. Video file is not corrupted
2. Internet connection (for cloud transcription)
3. Whisper files in external/whisper/ (for offline)`)}},S=async t=>{var c,m,D;t.preventDefault(),t.stopPropagation(),j(!1);const a=(c=t.dataTransfer)==null?void 0:c.files;if(!a||a.length===0)return;const s=a[0];if(s.type.startsWith("video/")||/\.(mp4|webm|mov|avi|mkv|flv)$/i.test(s.name)){F(s);return}if(s.name.endsWith(".pdf")||s.type==="application/pdf"){try{x(!0),l(10);const f=await s.arrayBuffer();l(30);const r=await((D=(m=window.electron)==null?void 0:m.api)==null?void 0:D.parsePDF(f));if(l(90),r!=null&&r.success){const b=s.name.replace(/\.pdf$/i,"");i(b),d(r.text.trim()),l(100),x(!1),l(0),n(!0)}else throw new Error((r==null?void 0:r.error)||"PDF parsing failed")}catch(f){x(!1),l(0),console.error("PDF error:",f);const r=s.name.replace(/\.pdf$/i,"");i(r),n(!0),setTimeout(()=>{alert(`âŒ Auto-extraction failed.

Please:
1. Open "${s.name}"
2. Select all (Ctrl+A) & copy (Ctrl+C)
3. Paste (Ctrl+V) below`)},100)}return}if(s.type.startsWith("text/")||s.name.endsWith(".md")||s.name.endsWith(".txt")||s.name.endsWith(".json")||s.name.endsWith(".bat")||s.name.endsWith(".cmd")){const f=new FileReader;f.onload=r=>{var V;const b=(V=r.target)==null?void 0:V.result;if(b){const Y=s.name.replace(/\.[^/.]+$/,"");i(Y),d(b),n(!0)}},f.readAsText(s)}else alert(`âŒ Unsupported file type: ${s.name}

Supported: .pdf, .txt, .md, .json, .bat, .cmd, .mp4, .webm, .mov, .avi`)},P=t=>{var s;t.preventDefault(),t.stopPropagation(),j(!1);const a=(s=t.dataTransfer)==null?void 0:s.getData("text/plain");a&&a.length>0&&(d(a),n(!0))},q=async()=>{if(!y||!w)return;x(!0),l(10);const t=[30,60,90,100];for(const s of t)await new Promise(c=>setTimeout(c,600)),l(s);const a={id:`mem-${Date.now()}`,title:y,content:w,source:"Manual Upload",date:new Date().toLocaleDateString(),tags:T.split(",").map(s=>s.trim()).filter(s=>s),status:"learned"};I([a,...g]),x(!1),l(0),n(!1),i(""),d(""),u(""),Q.recordAction("knowledge_ingested",{title:a.title,tags:a.tags}).catch(()=>{})},H=t=>{I(g.filter(a=>a.id!==t))},K=g.filter(t=>t.title.toLowerCase().includes(v.toLowerCase())||t.content.toLowerCase().includes(v.toLowerCase())||t.tags.some(a=>a.toLowerCase().includes(v.toLowerCase())));return e.jsxs("div",{className:"h-full flex flex-col bg-[#0f120f] text-slate-200 font-sans overflow-hidden",children:[_&&e.jsx("div",{onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:t=>{var a,s;S(t),(s=(a=t.dataTransfer)==null?void 0:a.files)!=null&&s.length||P(t)},className:"fixed inset-0 z-40 bg-emerald-500/20 border-4 border-dashed border-emerald-400 flex items-center justify-center backdrop-blur-sm",style:{pointerEvents:"auto"},children:e.jsxs("div",{className:"text-center pointer-events-none",children:[e.jsx(oe,{className:"w-16 h-16 text-emerald-400 mb-4 mx-auto animate-bounce"}),e.jsx("h3",{className:"text-2xl font-bold text-emerald-300 mb-2",children:"Drop Knowledge Here"}),e.jsx("p",{className:"text-emerald-200 text-sm",children:"Paste text, drop files, or drag tutorials"})]})}),p&&!E&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center",children:e.jsx("div",{className:"bg-[#141814] border border-emerald-500/30 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl shadow-emerald-500/10",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(z,{className:"w-12 h-12 text-emerald-400 mx-auto animate-spin"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Processing PDF..."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[e.jsx("span",{children:"Extracting text"}),e.jsxs("span",{children:[N,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-900 rounded-full h-2 overflow-hidden border border-white/5",children:e.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-300 shadow-[0_0_10px_rgba(16,185,129,0.5)]",style:{width:`${N}%`}})})]})]})})}),e.jsxs("div",{className:"p-6 border-b border-emerald-900/30 bg-[#141814] flex justify-between items-center shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:e.jsx(re,{className:"w-6 h-6 text-emerald-400"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:["Memory Vault",e.jsx("span",{className:"text-[10px] bg-emerald-500/20 text-emerald-400 px-2 py-0.5 rounded border border-emerald-500/30 font-mono",children:"ENHANCED RAG"})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"Upload tutorials, snippets, and lore for Mossy to digest into her long-term memory."})]})]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-all shadow-lg shadow-emerald-900/20 text-sm font-bold",children:[e.jsx(R,{className:"w-4 h-4"}),"Ingest Knowledge"]})]}),e.jsxs("div",{className:"px-6 py-3 bg-[#1a1f1a] border-b border-emerald-900/20 flex items-center gap-6 text-[10px] font-mono text-emerald-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-3 h-3"}),e.jsxs("span",{children:["LOCAL VECTOR DB: ",(g.length*.45).toFixed(2)," MB INDEXED"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[e.jsx($,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{children:"SYNCED TO LOCAL AI ENGINE (OLLAMA)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-3 h-3 text-cyan-400"}),e.jsxs("span",{children:["NEURAL DENSITY: ",(g.length*.12).toFixed(2)," pts"]})]})]}),e.jsx("div",{className:"mx-6 mt-4 mb-2 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(B,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-slate-300 space-y-1",children:[e.jsx("div",{className:"font-semibold text-blue-300",children:"ðŸ“¹ Video Transcription Setup"}),e.jsxs("div",{className:"text-slate-400",children:["For offline video transcription, place these in ",e.jsx("code",{className:"px-1 py-0.5 bg-slate-800 rounded text-emerald-400 font-mono text-[10px]",children:"external/whisper/"}),":"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-[11px] text-slate-400 ml-1",children:[e.jsxs("li",{children:[e.jsx("code",{className:"text-cyan-400 font-mono",children:"whisper.cpp.exe"})," - Get from ",e.jsx("a",{href:"https://github.com/ggerganov/whisper.cpp/releases",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"whisper.cpp releases"})]}),e.jsxs("li",{children:[e.jsx("code",{className:"text-cyan-400 font-mono",children:"ggml-base.en.bin"})," - Download from ",e.jsx("a",{href:"https://huggingface.co/ggerganov/whisper.cpp/resolve/main/ggml-base.en.bin",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"HuggingFace"})," (~150MB)"]})]}),e.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Or add an OpenAI API key for cloud transcription (optional)"})]})]})}),e.jsx("div",{className:"p-6 bg-[#0f120f]",children:e.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),e.jsx("input",{type:"text",placeholder:"Search Mossy's memories (e.g. 'Papyrus quest loops', 'NIF collision tips')...",className:"w-full bg-[#141814] border border-emerald-900/30 rounded-xl py-3 pl-10 pr-4 text-sm focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/20 transition-all text-slate-200",value:v,onChange:t=>W(t.target.value)})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:t=>{var a,s;S(t),(s=(a=t.dataTransfer)==null?void 0:a.files)!=null&&s.length||P(t)},children:K.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-40 py-20",children:[e.jsx(J,{className:"w-16 h-16 mb-4 text-slate-600"}),e.jsx("h3",{className:"text-lg font-medium text-slate-400",children:"No memories found"}),e.jsx("p",{className:"text-sm text-slate-500 max-w-sm",children:"Mossy hasn't ingested any custom tutorials yet. Click 'Ingest Knowledge' to expand her capabilities."})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:K.map(t=>e.jsxs("div",{className:"group bg-[#141814] border border-emerald-900/20 rounded-xl p-5 hover:border-emerald-500/40 transition-all hover:bg-[#1a1f1a] relative overflow-hidden shadow-sm",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:e.jsx("button",{onClick:()=>H(t.id),className:"p-1.5 bg-red-900/20 text-red-400 hover:bg-red-900/40 rounded border border-red-500/20 transition-colors",title:"Forget memory",children:e.jsx(se,{className:"w-3.5 h-3.5"})})}),e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"mt-1",children:e.jsx(B,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-slate-100 text-sm truncate pr-16",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-[10px] text-slate-500 font-mono italic",children:t.date}),e.jsxs("span",{className:"text-[10px] text-emerald-500 flex items-center gap-1 font-bold",children:[e.jsx($,{className:"w-2.5 h-2.5"})," LEARNED"]})]})]})]}),e.jsxs("p",{className:"text-xs text-slate-400 line-clamp-3 mb-4 leading-relaxed bg-black/20 p-2 rounded border border-white/5 italic",children:['"',t.content,'"']}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.tags.map(a=>e.jsxs("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-[9px] rounded-full border border-slate-700",children:["#",a]},a))})]},t.id))})}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:t=>{t.target===t.currentTarget&&(n(!1),i(""),d(""),u(""))},onKeyDown:t=>{t.key==="Escape"&&(n(!1),i(""),d(""),u(""))},children:e.jsxs("div",{className:"bg-[#141814] border border-emerald-500/30 w-full max-w-2xl rounded-2xl shadow-2xl shadow-emerald-500/10 overflow-hidden transform animate-scale-in",children:[e.jsxs("div",{className:"p-6 border-b border-emerald-900/30 flex justify-between items-center bg-[#1a1f1a]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"text-emerald-400 w-5 h-5"}),e.jsx("h3",{className:"text-lg font-bold text-white uppercase tracking-tight",children:"Expand Neural Memory"})]}),e.jsx("button",{onClick:()=>{n(!1),i(""),d(""),u("")},className:"text-slate-500 hover:text-white transition-colors",children:e.jsx(X,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-widest pl-1",children:"Knowledge Title"}),e.jsx("input",{type:"text",placeholder:"e.g. Advanced Papyrus Optimization",className:"w-full bg-[#0f120f] border border-emerald-900/40 rounded-xl py-3 px-4 text-sm text-white focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/20",value:y,onChange:t=>i(t.target.value),disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-widest pl-1",children:"Knowledge Content (Tutorial / Info / Snippet)"}),e.jsxs("div",{onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:t=>{var a,s;t.preventDefault(),t.stopPropagation(),j(!1),(s=(a=t.dataTransfer)==null?void 0:a.files)!=null&&s.length?S(t):P(t)},className:`relative border-2 border-dashed rounded-xl transition-all ${_?"border-emerald-400 bg-emerald-500/10 shadow-lg shadow-emerald-500/20":"border-emerald-900/40 bg-[#0f120f]"}`,children:[e.jsx("textarea",{rows:8,placeholder:"Paste the tutorial here, or drag & drop PDFs/videos/text files. Mossy will analyze this to provide better answers.",className:"w-full bg-transparent border-0 py-3 px-4 text-sm text-white focus:outline-none font-mono resize-none relative z-10 placeholder-slate-500",value:w,onChange:t=>d(t.target.value),disabled:p}),!w&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none opacity-50",children:[e.jsx(ie,{className:"w-8 h-8 text-emerald-400 mb-2"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Drop files here or paste text"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-widest pl-1",children:"Tags (Comma separated)"}),e.jsx("input",{type:"text",placeholder:"scripting, optimization, combat",className:"w-full bg-[#0f120f] border border-emerald-900/40 rounded-xl py-3 px-4 text-sm text-white focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/20",value:T,onChange:t=>u(t.target.value),disabled:p})]}),p&&e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-mono mb-1",children:[e.jsxs("span",{className:"text-emerald-400 flex items-center gap-2",children:[e.jsx(z,{className:"w-3 h-3 animate-spin"}),"NEURAL INTEGRATION IN PROGRESS..."]}),e.jsxs("span",{className:"text-slate-500",children:[N,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-900 rounded-full h-1.5 overflow-hidden border border-white/5",children:e.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-300 shadow-[0_0_10px_rgba(16,185,129,0.5)]",style:{width:`${N}%`}})})]})]}),e.jsxs("div",{className:"p-6 bg-[#1a1f1a] border-t border-emerald-900/30 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{n(!1),i(""),d(""),u("")},className:"px-5 py-2 text-sm text-slate-400 hover:text-white font-medium transition-colors",disabled:p,children:"Cancel"}),e.jsxs("button",{onClick:q,disabled:p||!y||!w,className:"flex items-center gap-2 px-6 py-2.5 bg-emerald-600 hover:bg-emerald-500 disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-xl transition-all font-bold text-sm shadow-lg shadow-emerald-500/10",children:[p?"Digesting...":"Start Digestion",!p&&e.jsx(Z,{className:"w-4 h-4"})]})]})]})}),G&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center backdrop-blur-sm",children:e.jsxs("div",{className:"bg-slate-900 border border-emerald-500/30 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl shadow-emerald-500/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(U,{className:"w-6 h-6 text-emerald-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"OpenAI API Key Required"})]}),e.jsxs("p",{className:"text-slate-300 mb-6 text-sm leading-relaxed",children:["To transcribe videos, you need an OpenAI API key. Get one from ",e.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 underline",children:"platform.openai.com/api-keys"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Paste your API Key (sk-proj-...)"}),e.jsx("input",{type:"password",value:k,onChange:t=>C(t.target.value),placeholder:"sk-proj-...",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:border-emerald-500 focus:outline-none transition-colors"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{A(!1),C(""),O(null)},className:"flex-1 px-4 py-2.5 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg transition-colors font-semibold text-sm",children:"Cancel"}),e.jsx("button",{onClick:()=>{if(k.trim()){const t=k.trim();if(localStorage.setItem("openai_api_key",t),t.startsWith("sk-proj-")){const a=prompt('Optional: Enter your OpenAI Project ID (starts with "proj_...") if your key requires it. Leave blank to skip.');a&&a.trim()&&localStorage.setItem("openai_project_id",a.trim())}A(!1),C(""),L&&F(L)}},disabled:!k.trim(),className:"flex-1 px-4 py-2.5 bg-emerald-600 hover:bg-emerald-500 disabled:opacity-40 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-semibold text-sm",children:"Save & Continue"})]})]})})]})};export{ge as default};
