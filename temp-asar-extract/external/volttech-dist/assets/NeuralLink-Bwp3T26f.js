import{r as n,j as e,b as v,A as m,Z as y}from"./index-CEqdjNqX.js";import{T as w}from"./terminal-B8DiE4iy.js";import{E as S}from"./eye-Dh4PfBEc.js";import{M as k}from"./message-square-DUh7ntIB.js";const C=()=>{const[i,u]=n.useState([]),[r,o]=n.useState(!1),[c,b]=n.useState(null),[h,x]=n.useState([]),d=async()=>{var t,s;if(typeof((s=(t=window.electron)==null?void 0:t.api)==null?void 0:s.getRunningProcesses)=="function"){o(!0);try{const l=await window.electron.api.getRunningProcesses();u(l),b(new Date),p(l)}catch(l){console.error("Failed to scan processes:",l)}finally{o(!1)}}};n.useEffect(()=>{d();const t=setInterval(d,1e4);return()=>clearInterval(t)},[]);const p=t=>{const s=[];if(t.length===0){s.push("No modding tools detected. Ready for your next project."),x(s);return}const l=t.map(a=>a.name.toLowerCase()),f=l.some(a=>a.includes("blender")),j=l.some(a=>a.includes("creationkit")),N=l.some(a=>a.includes("xedit")||a.includes("fo4edit"));f&&(s.push("I see Blender is active. Remember: Fallout 4 uses 30 FPS and 1.0 Unit Scale."),s.push("Verify your export profile: Havok 2010.2.0-r1 is the standard for FO4.")),j&&(s.push("Creation Kit detected. Watch out for deleted referencesâ€”always 'disable' instead of delete."),s.push("Building precombines? Make sure your visibility data is updated last.")),N&&(s.push("xEdit link established. Scanning for record conflicts in the background."),s.push("Remember to clean your masters before final packaging.")),t.length>2&&s.push("Multitasking today? I'm monitoring the memory load for stability."),x(s)},g=async()=>{window.dispatchEvent(new CustomEvent("mossy-control",{detail:{action:"navigate",payload:{path:"/bridge"}}}))};return e.jsxs("div",{className:"p-6 space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(v,{className:"text-blue-400",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white font-mono uppercase tracking-wider",children:"Neural Link"}),e.jsx("p",{className:"text-blue-400/60 text-xs",children:"Direct Integration & Process Monitoring"})]})]}),e.jsxs("button",{onClick:d,disabled:r,className:"flex items-center gap-2 px-3 py-1 bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 rounded-md border border-blue-500/30 transition-all text-xs",children:[e.jsx(m,{size:14,className:r?"animate-pulse":""}),r?"Scanning...":"Manual Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-900/50 border border-blue-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(w,{size:18,className:"text-blue-400"}),e.jsx("h3",{className:"text-sm font-semibold text-blue-200",children:"Active Modding Session"})]}),e.jsx("div",{className:"space-y-3",children:i.length===0?e.jsxs("div",{className:"py-8 text-center border border-dashed border-blue-500/10 rounded-lg",children:[e.jsx(S,{className:"mx-auto text-blue-500/20 mb-2",size:32}),e.jsx("p",{className:"text-blue-400/40 text-sm italic",children:"Waiting for tool activation..."})]}):i.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-500/5 border border-blue-500/10 rounded-lg hover:bg-blue-500/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:t.name}),e.jsx("div",{className:"text-[10px] text-blue-400/60 truncate max-w-[200px] font-mono",children:t.windowTitle||"Background Process"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-[10px] text-blue-400 font-mono",children:["PID: ",t.pid]}),e.jsx("div",{className:"text-[10px] text-blue-400/60",children:t.memory})]})]},s))}),c&&e.jsxs("div",{className:"mt-4 text-[10px] text-blue-400/40 text-right",children:["Last synced: ",c.toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-blue-900/20 border border-blue-400/30 rounded-xl p-4 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-2 border-b border-blue-400/20",children:[e.jsx(k,{size:18,className:"text-blue-400"}),e.jsx("h3",{className:"text-sm font-semibold text-blue-200 uppercase tracking-widest",children:"Mossy's Internal Feed"})]}),e.jsx("div",{className:"space-y-4",children:h.map((t,s)=>e.jsxs("div",{className:"flex gap-3 animate-in slide-in-from-left duration-300",style:{animationDelay:`${s*150}ms`},children:[e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"w-1 h-3 bg-blue-400 rounded-full"})}),e.jsxs("p",{className:"text-sm text-blue-100/80 leading-relaxed font-serif italic",children:['"',t,'"']})]},s))})]}),i.some(t=>t.name.toLowerCase().includes("blender"))&&e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(y,{size:18,className:"text-yellow-400"}),e.jsx("h3",{className:"text-sm font-semibold text-yellow-200",children:"Blender Integration Add-on"})]}),e.jsxs("p",{className:"text-xs text-yellow-200/60 mb-3 leading-relaxed",children:["I can execute scripts directly in your Blender scene. Install the ",e.jsx("strong",{children:"Mossy Link Add-on"})," from the Desktop Bridge to enable this."]}),e.jsx("button",{onClick:g,className:"w-full py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-lg border border-yellow-500/30 transition-all text-xs font-bold",children:"VIEW SETUP INSTRUCTIONS"})]})]})]}),e.jsxs("div",{className:"bg-slate-900 border border-blue-500/20 rounded-xl p-4 overflow-hidden relative",children:[e.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[e.jsx(m,{className:"text-blue-400",size:32}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-[10px] text-blue-400 font-bold uppercase",children:"Neural Sync Stability"}),e.jsx("span",{className:"text-[10px] text-blue-400 font-mono",children:"99.8%"})]}),e.jsx("div",{className:"h-1 bg-blue-900/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-400 w-[99.8%] animate-pulse"})})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full blur-3xl -mr-16 -mt-16"})]})]})};export{C as default};
