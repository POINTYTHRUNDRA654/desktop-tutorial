import{c as b,r as n,j as e,G as p,C as m}from"./index-CEqdjNqX.js";import{P as N}from"./play-txtn9UkQ.js";import{T as v}from"./triangle-alert-zWUHrt1_.js";import{C as y}from"./copy-D3A4jLxT.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k=b("chart-column",w);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],S=b("target",C),h=[],R=l=>{switch(l){case"quest":return"ðŸ“œ";case"combat":return"âš”ï¸";case"settlement":return"ðŸ—ï¸";case"npc":return"ðŸ‘¤";case"load_order":return"ðŸ“‹";default:return"ðŸŽ®"}},F=()=>{const[l,o]=n.useState(null),[d,u]=n.useState(null),[i,T]=n.useState([]),[f,x]=n.useState(null),j=(s,t)=>{navigator.clipboard.writeText(t),x(s),setTimeout(()=>x(null),2e3)},g=async s=>{try{if(!(await window.electronAPI.getRunningProcesses()).some(c=>c.name.toLowerCase().includes("fallout4")||c.name.toLowerCase().includes("f4se"))){alert("Virtual Test Environment requires an active Neural Link connection to the game process. Please launch Fallout 4 (or F4SE) first.");return}console.log(`Starting real-time scenario monitoring for: ${s}`);const r=h.find(c=>c.id===s);r&&o(r)}catch(t){console.error("Failed to check game process:",t),alert("Connection to Desktop Bridge failed. Is the app running with administrator privileges?")}};return e.jsxs("div",{className:"h-full flex flex-col bg-[#1e1e1e] text-slate-200 font-sans overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-black bg-[#2d2d2d] flex justify-between items-center shadow-md",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5 text-purple-400"}),"Holodeck"]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-mono mt-0.5",children:"Automated Mod Validator - Real-time Game Analysis"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{className:"px-3 py-1.5 bg-black rounded border border-slate-600 hover:border-purple-500 transition-colors text-xs text-purple-400 flex items-center gap-2",children:[e.jsx(k,{className:"w-3 h-3"})," Report"]})})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 border-r border-slate-800 overflow-y-auto bg-[#252526] flex flex-col",children:[e.jsx("div",{className:"sticky top-0 p-4 border-b border-slate-800 bg-[#2d2d2d]",children:e.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-wide",children:"Test Scenarios"})}),e.jsx("div",{className:"flex-1 space-y-2 p-3 overflow-y-auto",children:h.map(s=>e.jsxs("button",{onClick:()=>o(s),className:`w-full text-left p-3 rounded-lg border transition-all ${(l==null?void 0:l.id)===s.id?"bg-purple-900/30 border-purple-700/50 ring-1 ring-purple-500/50":"bg-slate-800/30 border-slate-700/30 hover:border-slate-700"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("span",{className:"text-sm",children:R(s.category)}),e.jsx("span",{className:`text-[9px] font-bold uppercase px-1.5 py-0.5 rounded ${s.severity==="critical"?"bg-red-900/50":s.severity==="major"?"bg-yellow-900/50":"bg-blue-900/50"}`,children:s.severity})]}),e.jsx("h4",{className:"text-xs font-semibold text-white",children:s.name}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1 line-clamp-2",children:s.description})]},s.id))})]}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:l.name}),e.jsx("p",{className:"text-sm text-slate-300",children:l.description})]}),e.jsxs("button",{onClick:()=>g(l.id),className:"px-4 py-2 bg-purple-900/30 hover:bg-purple-900/50 rounded border border-purple-700/50 text-xs font-semibold text-purple-300 flex items-center gap-2 transition-colors flex-shrink-0",children:[e.jsx(N,{className:"w-3 h-3"})," Run Test"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-xs font-bold text-slate-300 uppercase tracking-wide",children:"Test Steps"}),l.steps.map((s,t)=>e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>u(d===t?null:t),className:"w-full text-left p-4 hover:bg-slate-800 transition-colors flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("span",{className:"text-xs font-bold text-purple-400",children:["Step ",t+1]})}),e.jsx("p",{className:"text-sm text-white font-medium",children:s.action})]}),e.jsx("div",{className:`transition-transform flex-shrink-0 text-slate-500 ${d===t?"rotate-180":""}`,children:"â–¼"})]}),d===t&&e.jsxs("div",{className:"border-t border-slate-700/50 bg-black/30 p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-[10px] font-semibold text-slate-300 mb-2 flex items-center gap-2",children:[e.jsx(m,{className:"w-3 h-3"})," Expected Result"]}),e.jsx("p",{className:"text-xs text-slate-300 bg-slate-900/50 p-2 rounded border border-slate-700/50",children:s.expectedResult})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-[10px] font-semibold text-slate-300 mb-2 flex items-center gap-2",children:[e.jsx(v,{className:"w-3 h-3 text-yellow-400"})," Risk Areas"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.riskAreas.map((a,r)=>e.jsx("span",{className:"text-[9px] bg-yellow-900/30 border border-yellow-700/50 text-yellow-200 px-2 py-1 rounded",children:a},r))})]}),e.jsx("button",{onClick:()=>j(`step-${t}`,s.action),className:"w-full px-3 py-2 bg-slate-700/30 hover:bg-slate-700/50 rounded border border-slate-600/50 text-xs font-semibold text-slate-300 flex items-center justify-center gap-2 transition-colors",children:f===`step-${t}`?e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-3 h-3"})," Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-3 h-3"})," Copy Command"]})})]})]},t))]}),e.jsxs("div",{className:"bg-purple-900/20 border border-purple-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-xs font-bold text-purple-300 uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx(S,{className:"w-3 h-3"})," Expected Outcome"]}),e.jsx("p",{className:"text-sm text-slate-300",children:l.expectedOutcome})]})]}),e.jsxs("div",{className:"border-t border-slate-800 bg-[#252526] max-h-[35%] flex flex-col",children:[e.jsx("div",{className:"sticky top-0 p-4 border-b border-slate-800 bg-[#2d2d2d] flex justify-between items-center",children:e.jsxs("h4",{className:"text-xs font-bold text-white uppercase tracking-wide",children:["Test Runs (",i.filter(s=>s.scenarioId===l.id).length,")"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 p-3",children:i.filter(s=>s.scenarioId===l.id).length===0?e.jsx("div",{className:"text-center py-6",children:e.jsx("p",{className:"text-[10px] text-slate-500",children:'No test runs yet. Click "Run Test" above to start.'})}):i.filter(s=>s.scenarioId===l.id).map(s=>e.jsxs("div",{className:`p-3 rounded border text-xs ${s.status==="passed"?"bg-green-900/20 border-green-700/50":"bg-red-900/20 border-red-700/50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`font-bold ${s.status==="passed"?"text-green-300":"text-red-300"}`,children:s.status==="passed"?"âœ“ PASSED":"âœ— FAILED"}),e.jsxs("span",{className:"text-slate-400",children:[s.duration,"s"]})]}),e.jsx("div",{className:"text-[9px] text-slate-400",children:s.timestamp}),s.issues.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t border-current/20 space-y-1",children:s.issues.map((t,a)=>e.jsxs("div",{className:"text-[9px] text-red-300",children:["â€¢ ",t]},a))})]},s.id))})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-slate-500",children:[e.jsx(p,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Select a scenario to begin testing"})]})})})]})]})};export{F as default};
