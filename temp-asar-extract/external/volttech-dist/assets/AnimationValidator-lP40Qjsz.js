import{r as b,j as e,n as d}from"./index-CEqdjNqX.js";import{C as m}from"./circle-check-big-Cwj_A10u.js";import{F as k}from"./file-text-5HrwYzdb.js";import{T as N}from"./triangle-alert-zWUHrt1_.js";const C=()=>{const[r,u]=b.useState([{id:"setup",title:"Animation Setup",category:"critical",description:"Verify basic animation configuration in Blender",checks:[{item:"Frame rate is 24 fps (not 30, not 60)",status:"unchecked",solution:"Output properties â†’ FPS: 24"},{item:"Animation timeline has defined start/end frames",status:"unchecked",solution:"Set Timeline range to your animation duration"},{item:"Armature is visible in viewport",status:"unchecked",solution:"Click eye icon next to armature in outliner"},{item:"Keyframes exist and are not floating",status:"unchecked",solution:"Check Graph Editor for continuous keyframe lines"}]},{id:"skeleton",title:"Skeleton Validation",category:"critical",description:"Ensure FO4 skeleton structure is correct",checks:[{item:"NPC Root bone exists and is not animated",status:"unchecked",solution:"NPC Root should only have identity transform (no keyframes)"},{item:"All 60+ FO4 bones present (no extras)",status:"unchecked",solution:"Delete any custom bones added (FO4 won't recognize them)"},{item:"Bone names match FO4 standard exactly (case-sensitive)",status:"unchecked",solution:"Use Skeleton Reference tool to verify names"},{item:"Pelvis is parent to all upper body bones",status:"unchecked",solution:"Check hierarchy: Pelvis â†’ Spine â†’ Chest â†’ Arms"},{item:"No bone name conflicts or duplicates",status:"unchecked",solution:"Outliner should show each bone once"}]},{id:"animation",title:"Animation Content",category:"critical",description:"Verify animation data and keyframes",checks:[{item:"Root bone (or NPC Root only) drives movement",status:"unchecked",solution:"Only NPC Root should have translation keyframes"},{item:"First frame matches last frame (for looping)",status:"unchecked",solution:"Copy first pose to last frame: Shift+O"},{item:"No animation keyframes outside timeline range",status:"unchecked",solution:"Check Graph Editor: delete floating keyframes"},{item:"Animation curves are smooth (no sudden jumps)",status:"unchecked",solution:"Switch keyframes to Bezier curves for smooth transitions"},{item:"No extreme bone rotations (>360Â°)",status:"unchecked",solution:"Graph Editor: use Normalize Curves"}]},{id:"weight",title:"Weight Painting",category:"warning",description:"Check custom mesh weight painting quality",checks:[{item:"All mesh vertices are weighted to bones",status:"unchecked",solution:"Weight Paint mode: verify no blue (unweighted) areas"},{item:"No single bone has 100% weight on all verts",status:"unchecked",solution:"Use soft brush to blend weights at joints"},{item:"Joint areas have overlapping weights",status:"unchecked",solution:"Elbow/shoulder should have 50/50 blend"},{item:"Weight normalized (sum to 100% per vert)",status:"unchecked",solution:"Object â†’ Weights â†’ Normalize All"}]},{id:"export",title:"Export Settings",category:"critical",description:"Verify NIF export configuration",checks:[{item:"Export Scale set to 0.1",status:"unchecked",solution:"NIF export options â†’ Scale: 0.1"},{item:"Export Animation: YES",status:"unchecked",solution:'NIF export options â†’ check "Export Animation"'},{item:"Animation name is set correctly",status:"unchecked",solution:"Use descriptive names: idle, walk, attack_left, etc."},{item:"Export path is correct (Data/Meshes/Animations/)",status:"unchecked",solution:"Save to: Data\\Meshes\\Animations\\[modname]\\"},{item:"Only armature selected (no mesh)",status:"unchecked",solution:"Deselect mesh, select only armature, then export"}]},{id:"nifskope",title:"NifSkope Verification",category:"critical",description:"Verify exported NIF structure",checks:[{item:"NiAnimationData node exists",status:"unchecked",solution:"Open in NifSkope â†’ expand nodes â†’ look for NiAnimationData"},{item:"Animation controllers present (one per bone)",status:"unchecked",solution:"NiAnimationData should have NiTransformController children"},{item:"Keyframe data is not empty",status:"unchecked",solution:"Expand controller nodes: should show rotation/translation data"},{item:"No broken references (red text)",status:"unchecked",solution:"NifSkope shows broken refs in red: fix before import"}]},{id:"ingame",title:"In-Game Testing",category:"info",description:"Final validation in Fallout 4",checks:[{item:"Animation plays on character",status:"unchecked",solution:"Import NIF into mod, test on NPC"},{item:"No clipping or stretching",status:"unchecked",solution:"If mesh deforms wrong, redo weight painting"},{item:"Movement direction is correct",status:"unchecked",solution:"Character should move forward/back as intended"},{item:"Animation transitions smoothly",status:"unchecked",solution:"No jerks or hitches: first frame = last frame"},{item:"Animation speed matches intention",status:"unchecked",solution:"If too fast/slow, adjust frame count or FPS"}]}]),h=(t,i)=>{u(s=>s.map(a=>a.id===t?{...a,checks:a.checks.map((c,g)=>g===i?{...c,status:c.status==="unchecked"?"pass":c.status==="pass"?"fail":"unchecked"}:c)}:a))},x=t=>{switch(t){case"critical":return e.jsx(d,{className:"w-5 h-5 text-red-400"});case"warning":return e.jsx(N,{className:"w-5 h-5 text-yellow-400"});case"info":return e.jsx(k,{className:"w-5 h-5 text-blue-400"})}},p=t=>{switch(t){case"critical":return"border-red-700/50 bg-red-950/20";case"warning":return"border-yellow-700/50 bg-yellow-950/20";case"info":return"border-blue-700/50 bg-blue-950/20"}},f=t=>{switch(t){case"pass":return e.jsx(m,{className:"w-4 h-4 text-green-400"});case"fail":return e.jsx(d,{className:"w-4 h-4 text-red-400"});default:return e.jsx("div",{className:"w-4 h-4 border border-slate-500 rounded-full"})}},o=r.reduce((t,i)=>t+i.checks.length,0),l=r.reduce((t,i)=>t+i.checks.filter(s=>s.status==="pass").length,0),n=r.reduce((t,i)=>t+i.checks.filter(s=>s.status==="fail").length,0);return e.jsxs("div",{className:"h-full bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-slate-700 bg-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(m,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Animation Validator"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Pre-export checklist for FO4 animations"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Progress"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:l}),e.jsxs("span",{className:"text-sm text-slate-400",children:["/ ",o," passed"]})]}),e.jsx("div",{className:"w-full bg-slate-800 h-2 rounded mt-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${o>0?l/o*100:0}%`}})})]}),e.jsxs("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Issues Found"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-red-400",children:n}),e.jsx("span",{className:"text-sm text-slate-400",children:"failures"})]})]}),e.jsxs("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Status"}),e.jsx("p",{className:`text-lg font-bold ${n===0&&l===o?"text-green-400":n>0?"text-red-400":"text-yellow-400"}`,children:n===0&&l===o?"Ready Export":n>0?"Fix Issues":"In Progress"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:r.map((t,i)=>e.jsxs("div",{className:`border rounded-lg overflow-hidden ${p(t.category)}`,children:[e.jsxs("div",{className:"px-6 py-4 bg-slate-900/50 border-b border-slate-700 flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:x(t.category)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:t.title}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:t.description})]}),e.jsx("div",{className:"flex-shrink-0 text-right",children:e.jsxs("p",{className:"text-xs text-slate-500",children:[t.checks.filter(s=>s.status==="pass").length," /"," ",t.checks.length]})})]}),e.jsx("div",{className:"p-6 space-y-3",children:t.checks.map((s,a)=>e.jsx("div",{onClick:()=>h(t.id,a),className:`p-4 rounded border cursor-pointer transition-all ${s.status==="pass"?"bg-green-950/20 border-green-700/50":s.status==="fail"?"bg-red-950/20 border-red-700/50":"bg-slate-950/50 border-slate-700 hover:border-slate-600"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f(s.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-white",children:s.item}),s.solution&&s.status!=="pass"&&e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["ðŸ’¡ ",s.solution]})]})]})},a))})]},t.id))})}),e.jsx("div",{className:"p-4 bg-cyan-900/20 border-t border-slate-700",children:e.jsx("p",{className:"text-xs text-cyan-300",children:"ðŸ’¡ Save and test frequently! Export to NIF, open in NifSkope, and test in-game. Fix issues as you find them."})})]})};export{C as AnimationValidator};
